<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html ng-app="gobot"> <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta content="width=device-width, initial-scale=1.0" name="viewport"> <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"> <meta name="description"> <meta name="author"> <title></title> <link href="/stylesheets/application.css" rel="stylesheet"> <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script> <script src="/javascripts/vendor/angular.min.js"></script> <script src="/javascripts/app.js"></script> <script type="text/javascript">


  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46433484-3', {"cookieDomain":"gobot.io"});
















   ga('send', 'pageview');


</script></head> <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,800%7CLato:400" rel="stylesheet"> <link href="/favicon.ico" rel="shortcut icon" type="image/gif">  <body> <div class="app"> <header class="app-header" id="top" role="banner"> <div class="container"> <div class="display"> <div class="app-logo"> <a href="/">Gobot</a> </div> </div> <nav class="menu"> <ul class="nav-list"> <li> <a href="/documentation" class="item">Docs</a> </li> <li> <a href="/documentation/platforms" class="item">Platforms</a> </li> <li> <a href="/resources" class="item">Resources</a> </li> <li> <a href="/news" class="item">News</a> </li> <li> <a href="/blog" class="item">Blog</a> </li> <li> <a class="item" target="blanck" href="https://github.com/hybridgroup/gobot/">Github</a> </li> </ul> </nav> </div> </header> <div class="info-intro"> <p>Arduino is an open-source electronics prototyping platform based on flexible, easy-to-use hardware and software. It's intended for artists, designers, hobbyists and anyone interested in creating interactive objects or environments.</p> <p>This package provides the adaptor for microcontrollers such as Arduino that support the <a href="http://firmata.org/wiki/Main_Page">Firmata</a> protocol</p> <p>You can connect to the microcontroller using either a serial connection, or a TCP connection to a WiFi-connected microcontroller such as the ESP8266.</p> <p>For more info about the Arduino platform, go to <a href="http://arduino.cc/">http://arduino.cc/</a>.</p> </div> <div class="clear"></div> <section class="how-to"> <h2 id="how-to-install">How to Install</h2> <pre class="CodeRay">go get -d -u gobot.io/x/gobot/... &amp;&amp; go install gobot.io/x/gobot/platforms/firmata
</pre> <p>You must install Firmata on your microcontroller before you can connect to it using Gobot. You can do this in many cases using Gort (<a href="http://gort.io">http://gort.io</a>).</p> <p>In order to use a TCP connection with a WiFi-enbaled microcontroller, you must install WifiFirmata on the microcontroller. You can use the Arduino IDE to do this.</p> <h2 id="how-to-use">How to Use</h2> <p>With a serial connection:</p> <pre class="CodeRay"><span class="keyword">package</span> main

<span class="keyword">import</span> (
        <span class="string"><span class="delimiter">"</span><span class="content">time</span><span class="delimiter">"</span></span>

        <span class="string"><span class="delimiter">"</span><span class="content">gobot.io/x/gobot</span><span class="delimiter">"</span></span>
        <span class="string"><span class="delimiter">"</span><span class="content">gobot.io/x/gobot/drivers/gpio</span><span class="delimiter">"</span></span>
        <span class="string"><span class="delimiter">"</span><span class="content">gobot.io/x/gobot/platforms/firmata</span><span class="delimiter">"</span></span>
)

<span class="keyword">func</span> main() {
        firmataAdaptor := firmata.NewAdaptor(<span class="string"><span class="delimiter">"</span><span class="content">/dev/ttyACM0</span><span class="delimiter">"</span></span>)
        led := gpio.NewLedDriver(firmataAdaptor, <span class="string"><span class="delimiter">"</span><span class="content">13</span><span class="delimiter">"</span></span>)

        work := <span class="keyword">func</span>() {
                gobot.Every(<span class="integer">1</span>*time.Second, <span class="keyword">func</span>() {
                        led.Toggle()
                })
        }

        robot := gobot.NewRobot(<span class="string"><span class="delimiter">"</span><span class="content">bot</span><span class="delimiter">"</span></span>,
                []gobot.Connection{firmataAdaptor},
                []gobot.Device{led},
                work,
        )

        robot.Start()
}
</pre> <p>With a TCP connection, use the <code>NewTCPAdaptor</code>:</p> <pre class="CodeRay"><span class="keyword">package</span> main

<span class="keyword">import</span> (
        <span class="string"><span class="delimiter">"</span><span class="content">time</span><span class="delimiter">"</span></span>

        <span class="string"><span class="delimiter">"</span><span class="content">gobot.io/x/gobot</span><span class="delimiter">"</span></span>
        <span class="string"><span class="delimiter">"</span><span class="content">gobot.io/x/gobot/drivers/gpio</span><span class="delimiter">"</span></span>
        <span class="string"><span class="delimiter">"</span><span class="content">gobot.io/x/gobot/platforms/firmata</span><span class="delimiter">"</span></span>
)

<span class="keyword">func</span> main() {
        firmataAdaptor := firmata.NewTCPAdaptor(<span class="string"><span class="delimiter">"</span><span class="content">192.168.0.66:3030</span><span class="delimiter">"</span></span>)
        led := gpio.NewLedDriver(firmataAdaptor, <span class="string"><span class="delimiter">"</span><span class="content">2</span><span class="delimiter">"</span></span>)

        work := <span class="keyword">func</span>() {
                gobot.Every(<span class="integer">1</span>*time.Second, <span class="keyword">func</span>() {
                        led.Toggle()
                })
        }

        robot := gobot.NewRobot(<span class="string"><span class="delimiter">"</span><span class="content">bot</span><span class="delimiter">"</span></span>,
                []gobot.Connection{firmataAdaptor},
                []gobot.Device{led},
                work,
        )

        robot.Start()
}
</pre> <p><strong>Important</strong> note that analog pins A4 and A5 are normally used by the Firmata I2C interface, so you will not be able to use them as analog inputs without changing the Firmata sketch.</p> <h2 id="how-to-connect">How to Connect</h2> <h3 id="upload-the-firmata-firmware-to-the-arduino">Upload the Firmata Firmware to the Arduino</h3> <p>This section assumes you're using an Arduino Uno or another compatible board. If you already have the Firmata sketch installed, you can skip straight to the examples.</p> <h3 id="os-x">OS X</h3> <p>First plug the Arduino into your computer via the USB/serial port. A dialog box will appear telling you that a new network interface has been detected. Click "Network Preferences…", and when it opens, simply click "Apply".</p> <p>Once plugged in, use <a href="http://gort.io">Gort</a>'s <code>gort scan serial</code> command to find out your connection info and serial port address:</p> <pre class="CodeRay">$ gort scan serial
</pre> <p>Use the <code>gort arduino install</code> command to install <code>avrdude</code>, this will allow you to upload firmata to the arduino:</p> <pre class="CodeRay">$ gort arduino install
</pre> <p>Once the avrdude uploader is installed we upload the firmata protocol to the arduino, use the arduino serial port address found when you ran <code>gort scan serial</code>:</p> <pre class="CodeRay">$ gort arduino upload firmata /dev/tty.usbmodem1421
</pre> <p>Now you are ready to connect and communicate with the Arduino using serial port connection</p> <p>Note that Gobot works best with the <code>tty.</code> version of the serial port as shown above, not the <code>cu.</code> version.</p> <h3 id="ubuntu">Ubuntu</h3> <p>First plug the Arduino into your computer via the USB/serial port.</p> <p>Once plugged in, use <a href="http://gort.io">Gort</a>'s <code>gort scan serial</code> command to find out your connection info and serial port address:</p> <pre class="CodeRay">$ gort scan serial
</pre> <p>Use the <code>gort arduino install</code> command to install <code>avrdude</code>, this will allow you to upload firmata to the arduino:</p> <pre class="CodeRay">$ gort arduino install
</pre> <p>Once the avrdude uploader is installed we upload the firmata protocol to the arduino, use the arduino serial port address found when you ran <code>gort scan serial</code>, or leave it blank to use the default address <code>ttyACM0</code>:</p> <pre class="CodeRay">$ gort arduino upload firmata /dev/ttyACM0
</pre> <p>Now you are ready to connect and communicate with the Arduino using serial port connection</p> <h3 id="windows">Windows</h3> <p>First download and install gort for your OS from the <a href="gort.io">gort.io</a> <a href="http://gort.io/documentation/getting_started/downloads/">downloads page</a> and install it.</p> <p>Open a command prompt window by right clicking on the start button and choose <code>Command Prompt (Admin)</code> (on windows 8.1). Then navigate to the folder where you uncompressed gort (uncomress to a folder first if you haven't done this yet).</p> <p>Once inside the gort folder, first install avrdude which we'll use to upload firmata to the arduino.</p> <pre class="CodeRay">$ gort arduino install
</pre> <p>When the installation is complete, close the command prompt window and open a new one. We need to do this for the env variables to reload.</p> <pre class="CodeRay">$ gort scan serial
</pre> <table> <tbody> <tr> <td>Take note of your arduinos serialport address (COM1</td> <td>COM2</td> <td>COM3</td> <td>etc). You need to already have installed the arduino drivers from <a href="https://www.arduino.cc/en/Main/Software">arduino.cc/en/Main/Software</a>. Finally upload the firmata protocol sketch to the arduino.</td> </tr> </tbody> </table> <pre class="CodeRay">$ gort arduino upload firmata &lt;COMX&gt;
</pre> <p>Make sure to substitute <code>&lt;COMX&gt;</code> with the apropiate serialport address.</p> <p>Now you are ready to connect and communicate with the Arduino using serial port connection.</p> <h3 id="using-arduino-ide">Using arduino IDE</h3> <p>Open arduino IDE and go to File &gt; Examples &gt; Firmata &gt; StandardFirmata and open it. Select the appriate port for your arduino and click upload. Wait for the upload to finish and you should be ready to start using Gobot with your arduino.</p> <h2 id="hardware-support">Hardware Support</h2> <p>The following Firmata devices have been tested and are known to work:</p> <ul> <li>
<a href="http://arduino.cc/en/Main/arduinoBoardUno">Arduino Uno R3</a> <ul> <li><a href="https://www.arduino.cc/en/Main/ArduinoBoard101">Arduino/Genuino 101</a></li> </ul> </li> <li><a href="http://www.pjrc.com/store/teensy3.html">Teensy 3.0</a></li> </ul> <p>The following WiFi devices have been tested and are known to work: - <a href="http://nodemcu.com/index_en.html">NodeMCU 1.0</a></p> <p>More devices are coming soon…</p> </section> </div> <footer class="app-footer"> <div class="grass-footer"></div> <div class="frameworks"> <div class="container"> <div class="column-footer"> <div class="img"> <img src="/images/elements/gobot-home.png"> </div> <p class="footer-description">Gobot provides a simple, yet powerful way to create solutions that incorporate multiple, different hardware devices at the same time.</p> </div> <div class="column-footer"> <div class="img"> <img src="/images/elements/artoo.png"> </div> <p class="footer-description">Want to use Ruby on robots? Check out our sister project Artoo</p> <div class="footer-button"> <a target="blank" href="http://artoo.io">View Project</a> </div> </div> <div class="column-footer"> <div class="img"> <img src="/images/elements/cylon.png"> </div> <p class="footer-description">Want to use Javascript to power your robots? Check out our sister project Cylon.js</p> <div class="footer-button"> <a target="blank" href="http://cylonjs.com">View Project</a> </div> </div> <div class="clear"></div> </div> </div> <div class="copyright"> <div class="container"> <div class="hybrid-group"> <span>© Copyright 2012-2017</span> <a href="http://hybridgroup.com" id="THG-logo" target="_blank"> <img alt="The Hybrid Group" src="/images/elements/THG_logo.png"> </a> </div> <div class="top-link"> <a href="#top"> <img alt="Top" src="/images/elements/triangle_up.svg"> <p>Top</p> </a> </div> <div class="clear"></div> </div> </div> </footer> </body> </html>
